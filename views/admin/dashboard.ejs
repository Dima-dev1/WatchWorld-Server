<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products</title>
    <style>
      body {
        background-color: #ebf8ed;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      th,
      td {
        border: 2px solid blue;
        padding: 10px;
      }
      a {
        color: black;
        text-decoration: none;
        padding: 8px 16px;
        background-color: #000000;
        color: white;
        border-radius: 4px;
        margin-right: 12px;
        text-transform: capitalize;
        transition: background-color 0.3s;
      }
      a:hover {
        background-color: #2a2a2b;
      }

      .btn-edit,
      .btn-delete {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        color: white;
        cursor: pointer;
        text-transform: capitalize;
        transition: all 0.3s ease;
        font-size: 14px;
        margin-right: 10px;
        width: 80px;
        display: inline-block;
        text-align: center;
        box-sizing: border-box;
      }

  
      .btn-edit {
        background-color: #4caf50;
      }

      .btn-edit:hover {
        background-color: #45a049;
      }

      .btn-delete {
        background-color: #e53935;
      }

      .btn-delete:hover {
        background-color: #d32f2f;
      }

      .admin-nav{
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="admin-nav">
      <a href="/home">Home</a>
      <a href="/admin/products/create">Add Product</a>
    </div>
    <table border="1">
      <thead>
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Description</th>
          <th>Price</th>
          <th>Image</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% if (products && products.length) { %>
          <% products.forEach(product => { %>
            <tr>
              <td><%= product.id %></td>
              <td><%= product.title %></td>
              <td><%= product.description %></td>
              <td><%= product.price %></td>
              <td>
                <% if (product.image) { %>
                  <img src="<%= product.image %>" alt="<%= product.title %>" width="60" />
                <% } else { %>
                  No image
                <% } %>
              </td>
              <td>
                <a href="/admin/products/<%= product.id %>/edit" class="btn-edit">Edit</a>
                <form action="/admin/products/<%= product.id %>/delete" method="POST" style="display:inline;">
                  <button
                    type="submit"
                    class="btn-delete"
                    onclick="return confirm('Are you sure you want to delete this product?')"
                  >
                    Delete
                  </button>
                </form>
              </td>
            </tr>
          <% }) %>
        <% } else { %>
          <tr>
            <td colspan="6">No products found</td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </body>
</html>
